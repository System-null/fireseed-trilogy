<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Fireseed Capsule Generator v3.7</title>
  <link rel="icon" href="./assets/fireseed-icon.svg">
  <link rel="stylesheet" href="./assets/style.css">
</head>
<body>
  <div class="container">
    <h1 class="fade-in">Fireseed Capsule Generator · 向导版</h1>
    <blockquote class="fade-in">
      <strong>愿景：</strong>构建一个机器可读的文明接口。<br>
      让未来的智能体、AGI 或高维智慧能够读取、验证、延续人类的思想与意志；<br>
      也让每一个普通人都能用最简单的方式，留下属于自己的火种。
    </blockquote>

    <div class="card fade-in">
      <p>这不是“上传意识”的幻想，而是一种更诚实的<strong>数字延续</strong>。<br>
      你填写的每一段文字、每一个原则、每一个底线，都会被转化为
      <strong>机器可读的自我描述</strong>——它能被未来的系统解析、复原、对齐。<br>
      对人类而言，这是“留下说明书”；对未来而言，这是“读取火种”。</p>
      <p class="disclaimer">🔒 全程本地运行，不上传、不联网。生成后你可以下载 <span class="kbd">capsule.yaml</span> 或 PDF。<br>
      ⚠️ 本工具用于记录思想与意愿，不具备法律效力；如涉及遗嘱或资产，请咨询律师。</p>
    </div>

    <div class="row">
      <div class="col">
        <div class="card">
          <h3>1) 基本信息</h3>
          <label>我是谁</label>
          <input id="owner" type="text" placeholder="例：Alex Lin / 李明 / Mia"/>
          <small class="hint">不管是谁打开这份说明书，都能认出那是我留下的声音。</small>

          <label>我用的语言</label>
          <select name="language">
  <option value="zh">中文 (zh-CN)</option>
  <option value="en">English (en-US)</option>
  <option value="ja">日本語 (ja-JP)</option>
</select>
          <small class="hint">系统会按这里生成对应语言格式；切到英文，整页将以英文呈现。</small>

          <label>我思考时的“参考书”</label>
          <input id="philosophy_refs" type="text" placeholder="例：论语、康德、马斯克、妈妈的一句话"/>
          <small class="hint">写下影响你判断的书、电影、人物或信条。未来系统读到这些，才知道“你从哪里想问题”。</small>
        </div>

        <div class="card">
          <h3>2) 原则与底线</h3>
          <label>我人生的三原则</label>
          <textarea id="principles" placeholder="例：1. 不撒谎 2. 不伤人 3. 不拖延"></textarea>

          <label>我的底线（non_negotiables）</label>
          <textarea id="non_negotiables" placeholder="例：绝不为钱背叛朋友；不以效率之名伤害他人。"></textarea>

          <label>我行动的循环（loop）</label>
          <textarea id="loop" placeholder="例：感知 → 判断 → 行动 → 反思；若误解则补图示，再无效终止解释。"></textarea>
        </div>

        <div class="card">
          <h3>3) 给未来的留言</h3>
          <textarea id="message" placeholder="例：愿你在混乱中仍保持温柔与清晰。"></textarea>
        </div>

        <div class="card">
          <h3>4) 权限与安全</h3>
          <label>我愿意被读取的条件（access_terms）</label>
          <select id="access_terms">
            <option value="read">只读（别人只能看）</option>
            <option value="derive">可衍生（别人可改写）</option>
            <option value="commercial">可商用（允许商业使用）</option>
            <option value="custom">自定义（在下方写明）</option>
          </select>
          <input id="custom_terms" type="text" placeholder="如果选择自定义，在此补充条款（可留空）"/>

          <label>白名单（whitelist）</label>
          <input id="whitelist" type="text" placeholder="例：任何尊重我底线的生命体 / 受托人邮箱"/>
          <label>黑名单（blacklist）</label>
          <input id="blacklist" type="text" placeholder="例：商业画像引擎；监控系统"/>

          <label>异议期（grace_period）</label>
          <input id="grace_period" type="text" placeholder="例：P30D（30天）"/>
          <small class="hint">家人如有异议，请在异议期内联系受托人。</small>

          <label>受托人 / 紧急联系人（delegated_key / emergency contact）</label>
          <input id="delegated_key" type="text" placeholder="例：姓名: 李明, 微信: liming123 或 公钥片段"/>

          <details style="margin-top:10px;">
            <summary>写更多 ▶（可选信息，不会影响生成）</summary>
            <label>我铭记的日子</label>
            <input id="dates" type="text" placeholder="例：生日 1990-01-01；纪念日 2015-05-20"/>
            <label>我喜欢的事物</label>
            <input id="likes" type="text" placeholder="例：黑咖啡；爵士；骑行"/>
            <label>我讨厌的事物</label>
            <input id="dislikes" type="text" placeholder="例：欺骗；浪费；冷暴力"/>
            <label>更新口令（可留空）</label>
            <input id="update_passphrase" type="text" placeholder="4~6位短语；留空代表未设置（可日后补）"/>
            <small class="hint">这些可写可不写，不会影响生成。</small>
          </details>
        </div>

        <div class="card">
          <div class="btns">
            <button class="primary" id="btn-generate">生成胶囊</button>
            <button id="btn-download">下载 YAML</button>
            <button id="btn-pdf">导出 PDF</button>
            <button id="btn-snapshot">人类快照</button>
          </div>
          <small class="hint">⚠️ 没有 GPG / IPFS？没关系，可以跳过签名与上传，日后补齐。</small>
        </div>
      </div>
      <div class="col">
        <div class="card">
          <h3>YAML 预览</h3>
          <pre id="yaml" class="preview"># 点击“生成胶囊”后在这里预览 YAML</pre>
        </div>
        <div class="card">
          <h3>人类可读预览</h3>
          <div id="human" class="human">这里会实时展示“人类可读”的摘要。</div>
        </div>
      </div>
    </div>

    <hr class="soft" />
    <footer>
      <p>© Fireseed Generator v3.7 · 本工具仅用于记录思想与意愿，不具备法律效力。</p>
    </footer>
  </div>
<script src="./scripts/i18n-auto.js"></script>
  <script src="./scripts/generator.js"></script>
  <script src="./scripts/pdf-export.js"></script>
<script src="./scripts/did-export.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    if (typeof initI18n === "function") {
      initI18n();
      console.log("✅ i18n initialized");
    } else {
      console.warn("⚠️ i18n.js not loaded properly");
    }
  });
</script>

</body>
</html>
